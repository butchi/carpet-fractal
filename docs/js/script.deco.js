!function b(u,t,c){function h(bb,ub){if(!t[bb]){if(!u[bb]){var tb="function"==typeof require&&require;if(!ub&&tb)return tb(bb,!0);if(i)return i(bb,!0);var cb=new Error("Cannot find module '"+bb+"'");throw cb.code="MODULE_NOT_FOUND",cb}var hb=t[bb]={exports:{}};u[bb][0].call(hb.exports,function(b){var t=u[bb][1][b];return h(t?t:b)},hb,hb.exports,b,u,t,c)}return t[bb].exports}for(var i="function"==typeof require&&require,bb=0;bb<c.length;bb++)h(c[bb]);return h}({1:[function(b,u,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.SAMPLING_RATE=8e3},{}],2:[function(b,u,t){"use strict";function c(b){return b&&b.__esModule?b:{"default":b}}function h(b,u){if(!(b instanceof u))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function b(b,u){for(var t=0;t<u.length;t++){var c=u[t];c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(b,c.key,c)}}return function(u,t,c){return t&&b(u.prototype,t),c&&b(u,c),u}}(),bb=b("./Router"),ub=c(bb),tb=function(){function b(){arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};h(this,b),console.log("Hello, world!"),this.initialize(),console.log("Thanks, world!")}return i(b,[{key:"initialize",value:function(){var b=this;$(function(){b.router=new ub["default"]})}}]),b}();t["default"]=tb},{"./Router":3}],3:[function(b,u,t){"use strict";function c(b){return b&&b.__esModule?b:{"default":b}}function h(b,u){if(!(b instanceof u))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function b(b,u){for(var t=0;t<u.length;t++){var c=u[t];c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(b,c.key,c)}}return function(u,t,c){return t&&b(u.prototype,t),c&&b(u,c),u}}(),bb=b("./ns"),ub=(c(bb),b("../page/Common")),tb=c(ub),cb=b("../page/Index"),hb=c(cb),ib=function(){function b(){h(this,b),this.initialize()}return i(b,[{key:"initialize",value:function(){var b=$("body");this.pageCommon=new tb["default"],b.hasClass("page-index")&&(this.pageIndex=new hb["default"])}}]),b}();t["default"]=ib},{"../page/Common":10,"../page/Index":11,"./ns":8}],4:[function(b,u,t){"use strict";function c(b){return b&&b.__esModule?b:{"default":b}}function h(b,u){if(!(b instanceof u))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function b(b,u){for(var t=0;t<u.length;t++){var c=u[t];c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(b,c.key,c)}}return function(u,t,c){return t&&b(u.prototype,t),c&&b(u,c),u}}(),bb=b("./table"),ub=c(bb),tb=function(){function b(){var u=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};h(this,b),this.initialize(u)}return i(b,[{key:"initialize",value:function(){var b=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},u=b.canvasElm;this.generator=new ub["default"]({arr:b.generator}),this.func=b.func||function(b,u){return b&&u},this.colorFunc=b.colorFunc||function(b){var u=255-255*b;return[u,u,u]},this.w=b.w,this.h=b.h;var t=u.getContext("2d"),c=t.createImageData(this.w,this.h);this.iterateNum=Math.ceil(Math.min(Math.log(this.w)/Math.log(this.generator.w),Math.log(this.h)/Math.log(this.generator.h))),this.initCarpet(),this.generateCarpet();for(var h=0,i=0;i<this.h;i++)for(var bb=0;bb<this.w;bb++){var tb=this.colorFunc(this.carpet[i][bb]);c.data[h]=tb[0],c.data[h+1]=tb[1],c.data[h+2]=tb[2],c.data[h+3]=255,h+=4}t.putImageData(c,0,0)}},{key:"initCarpet",value:function(){this.carpet=new Array(this.h);for(var b=0;b<this.w;b++)this.carpet[b]=new Array(this.w).fill(0)}},{key:"generateCarpet",value:function(){for(var b=0;b<this.h;b++)for(var u=0;u<this.w;u++)this.carpet[b][u]=this.iterate(u,b)}},{key:"iterate",value:function(b,u){for(var t=1,c=0;c<this.iterateNum;c++){var h=this.generator.getElm({x:b,y:u,scaleX:Math.pow(this.generator.w,c),scaleY:Math.pow(this.generator.h,c)});t=this.func(t,h)}return t}}]),b}();t["default"]=tb},{"./table":9}],5:[function(b,u,t){"use strict";function c(b,u){if(!(b instanceof u))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var h=function(){function b(b,u){for(var t=0;t<u.length;t++){var c=u[t];c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(b,c.key,c)}}return function(u,t,c){return t&&b(u.prototype,t),c&&b(u,c),u}}(),i=function(){function b(){var u=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};c(this,b),this.initialize(u)}return h(b,[{key:"initialize",value:function(){var b=this,u=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=this.elm=u.elm;$(t).on("change",'[data-js-class="generator"]',function(u){$(t).trigger("table-change",{generator:b.readTable()})})}},{key:"readTable",value:function(){for(var b=new Array,u=4,t=4,c=this.elm.querySelectorAll('[data-js-class="generator"]'),h=0;t>h;h++){b[h]=new Array;for(var i=0;u>i;i++)b[h][i]=c[h*u+i].checked?1:0}return b}}]),b}();t["default"]=i},{}],6:[function(b,u,t){"use strict";function c(b){if(b&&b.__esModule)return b;var u={};if(null!=b)for(var t in b)Object.prototype.hasOwnProperty.call(b,t)&&(u[t]=b[t]);return u["default"]=b,u}function h(b,u){if(!(b instanceof u))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function b(b,u){for(var t=0;t<u.length;t++){var c=u[t];c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(b,c.key,c)}}return function(u,t,c){return t&&b(u.prototype,t),c&&b(u,c),u}}(),bb=b("../config"),ub=c(bb),tb=function(){function b(){var u=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};h(this,b),this.initialize(u)}return i(b,[{key:"initialize",value:function(){var b=this;arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.connected=!1,window.AudioContext=window.AudioContext||window.webkitAudioContext,this.audioCtx=new AudioContext,this.sampleRate=this.audioCtx.sampleRate,this.node=this.audioCtx.createScriptProcessor(1024,1,1),this.t=0,this.node.addEventListener("audioprocess",function(u){b.process(u)})}},{key:"process",value:function(b){for(var u=this.arr.length,t=this.arr[0].length,c=b.outputBuffer.getChannelData(0),h=0;h<c.length;++h){var i=Math.floor(this.t*ub.SAMPLING_RATE/this.sampleRate)%(t*u);c[h]=this.arr[Math.floor(i/t)][i%t],this.t++}}},{key:"play",value:function(b){this.arr=b,this.node.connect(this.audioCtx.destination)}},{key:"pause",value:function(){this.node.disconnect()}}]),b}();t["default"]=tb},{"../config":1}],7:[function(b,u,t){"use strict";function c(b){return b&&b.__esModule?b:{"default":b}}function h(b,u){if(!(b instanceof u))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function b(b,u){for(var t=0;t<u.length;t++){var c=u[t];c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(b,c.key,c)}}return function(u,t,c){return t&&b(u.prototype,t),c&&b(u,c),u}}(),bb=b("./carpet-fractal"),ub=c(bb),tb=b("./fractal-audio"),cb=c(tb),hb=b("./cfm-edit-table"),ib=c(hb),bu=function(){function b(){var u=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};h(this,b),this.initialize(u)}return i(b,[{key:"initialize",value:function(b){var u=this;this.canvasWrapper=document.querySelector(".canvas"),this.canvasElm=this.canvasWrapper.querySelector("canvas"),this.w=256,this.h=256,this.canvasElm.width=this.w,this.canvasElm.height=this.h,this.fractalAudio=new cb["default"];var t=this.cfmEditTable=new ib["default"]({elm:document.querySelector(".cfm-edit-table")});$(t.elm).on("table-change",function(b){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},c=t.generator;u.updateCarpet({generator:c})})}},{key:"updateCarpet",value:function(){var b=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.carpetFractal=new ub["default"]({canvasElm:this.canvasElm,generator:b.generator,func:function(b,u){return b&u},colorFunc:function(b){var u=255-255*b;return[u,u,u]},w:this.w,h:this.h}),this.fractalAudio.pause(),this.fractalAudio.play(this.carpetFractal.carpet)}}]),b}();t["default"]=bu},{"./carpet-fractal":4,"./cfm-edit-table":5,"./fractal-audio":6}],8:[function(b,u,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),window.App=window.App||{};var c=window.App;t["default"]=c},{}],9:[function(b,u,t){"use strict";function c(b,u){if(!(b instanceof u))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var h=function(){function b(b,u){for(var t=0;t<u.length;t++){var c=u[t];c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(b,c.key,c)}}return function(u,t,c){return t&&b(u.prototype,t),c&&b(u,c),u}}(),i=function(){function b(){var u=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};c(this,b),this.initialize(u)}return h(b,[{key:"initialize",value:function(){var b=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.arr=b.arr||[[0]],this.w=this.arr.length,this.h=this.arr[0].length}},{key:"getElm",value:function(){var b,u=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=u.scaleX||1,c=u.scaleY||1,h=u.x||0,i=u.y||0;return b=this.arr[Math.floor(i/c%this.h)][Math.floor(h/t%this.w)]}}]),b}();t["default"]=i},{}],10:[function(b,u,t){"use strict";function c(b){return b&&b.__esModule?b:{"default":b}}function h(b,u){if(!(b instanceof u))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function b(b,u){for(var t=0;t<u.length;t++){var c=u[t];c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(b,c.key,c)}}return function(u,t,c){return t&&b(u.prototype,t),c&&b(u,c),u}}(),bb=b("../module/ns"),ub=c(bb),tb=function(){function b(){arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};h(this,b),this.initialize()}return i(b,[{key:"initialize",value:function(){console.log("page common"),this.setEnvClass()}},{key:"setEnvClass",value:function(){var b=$("html");ub["default"].isSp=!1,ub["default"].isPc=!1,ub["default"].isTab=!1,b.hasClass("is-sp")&&(ub["default"].isSp=!0),b.hasClass("is-pc")&&(ub["default"].isPc=!0),b.hasClass("is-tab")&&(ub["default"].isTab=!0)}}]),b}();t["default"]=tb},{"../module/ns":8}],11:[function(b,u,t){"use strict";function c(b){return b&&b.__esModule?b:{"default":b}}function h(b,u){if(!(b instanceof u))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function b(b,u){for(var t=0;t<u.length;t++){var c=u[t];c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(b,c.key,c)}}return function(u,t,c){return t&&b(u.prototype,t),c&&b(u,c),u}}(),bb=b("../module/ns"),ub=c(bb),tb=b("../module/index-main"),cb=c(tb),hb=function(){function b(){arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};h(this,b),this.initialize()}return i(b,[{key:"initialize",value:function(){console.log("index page"),ub["default"].indexMain=new cb["default"]}}]),b}();t["default"]=hb},{"../module/index-main":7,"../module/ns":8}],12:[function(b,u,t){"use strict";function c(b){return b&&b.__esModule?b:{"default":b}}var h=b("./module/ns"),i=c(h),bb=b("./module/Main"),ub=c(bb);i["default"].main=new ub["default"]},{"./module/Main":2,"./module/ns":8}]},{},[12]);